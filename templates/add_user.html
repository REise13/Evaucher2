<!--Страница регистрации пользователя-->

{% extends 'templt_for_pages.html' %}

{% block title %} Регистрация пользователя{% endblock %}
{% block header %} Регистрация {% endblock %}

{% block content %}

<style>
    .page-content {
        width: calc(100% - 17rem);
        margin-left: 17rem;
        transition: all 0.4s;
    }
</style>

<div class="page-content p-5" id="content">
    <h2 class="display-4 text-white">Регистрация пользователя</h2>
    <div class="separator"></div>
    <div class="reg-form">
        <!-- Форма регистрации пациента -->
            <div class="row">
                <div class="container w-50">
                    <div class="registr-form bg-white p-5 rounded shadow-sm">
                        <form role="form" action="{{ url_for('register') }}" method="POST">
                            <!-- flash сообщения -->
                            {% for message in get_flashed_messages(with_categories=True) %}
                                <div id="#alert" class="alert alert-{{message[0]}} alert-dismissible w-50 fade show" role="alert">
                                    <p>{{ message[1] }}</p>
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
							{% endfor %}
                            <!-- end -->
                            <div class="form-group">
                                <label for="login">Логин</label>
                                <input type="text" name="login" placeholder="" required class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="password">Пароль</label>
                                <input type="text" name="password" placeholder="" required class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="sname">Фамилия</label>
                                <input type="text" name="sname" placeholder="" required class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="fname">Имя</label>
                                <input type="text" name="fname" placeholder="" required class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="patr">Отчество</label>
                                <input type="text" name="patr" placeholder="" required class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="cities">Город</label>
                                <div class="data_select">
                                    <select  name="cities" id="cities" placeholder="Не выбрано" class="selectpicker">
                                        {% for city in cities %}
                                            <option value="{{ city['id'] }}">{{ city['city'] }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>
                             <div class="form-group">
                                <label for="phone">Номер телефона</label>
                                <input type="text" id="phone" name="phone" placeholder=""  class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="posts">Должность</label>
                                <div class="data_select">
                                    <select  name="posts" id="posts" placeholder="Не выбрано" class="selectpicker">
                                        {% for post in posts %}
                                            <option value="{{ post['id'] }}">{{ post['post'] }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="roles">Роль пользователя</label>
                                <div class="data_select">
                                    <select  name="roles" id="roles" placeholder="Не выбрано" class="selectpicker">
                                        {% for role in roles %}
                                            <option value="{{ role['id'] }}">{{ role['role'] }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>
                            <input type="submit" class="btn btn-primary" value="Зарегистрировать">
                        </form>
                    </div>
                </div>
            </div>
        </div>


    <script>
        $(document).ready(function() {
            $('.selectpicker').selectpicker();
        });
    </script>

{% endblock %}